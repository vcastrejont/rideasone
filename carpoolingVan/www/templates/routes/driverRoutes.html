<ion-view view-title="Routes">
  <ion-nav-buttons side="secondary">
    <button class="button" ng-click="addRoute()">
      <i class="icon ion-plus-round"></i>
    </button>
  </ion-nav-buttons>
  <ion-content>
    <ion-list>
      <ion-item ng-repeat="route in routes" ui-sref="van.passengers({route: route, role: 'driver'})" class="item item-icon-left">
        <i ng-show="route.departureTime" class="icon ion-android-car balanced"></i>
        <i ng-show="!route.departureTime" class="icon ion-android-home assertive"></i>
        <strong>{{route.time}}</strong>
        <div ng-class="{right: true, balanced: passengerCount(route) > 0, assertive: passengerCount(route) == 0}">
            <i class="ion-ios-body"></i>
          <small>{{passengerCount(route)}}</small>
        </div>
        <br>
        <small ng-show="route.departureTime" class="balanced">
          Departed at {{route.departureTime}}
        </small>
        <small ng-show="route.arrivalTime" class="assertive">
          Arrived at {{route.arrivalTime}}
        </small>
        <ion-option-button ng-show="!route.departureTime" class="button-calm" ui-sref="van.userList({route: route})">
          <i class="icon ion-person-stalker"></i>
        </ion-option-button>
        <ion-option-button ng-show="!route.departureTime && passengerCount(route) > 0" class="button-balanced" ng-click="start(route)">
          <i class="icon ion-android-car"></i>
        </ion-option-button>
        <ion-option-button ng-show="route.departureTime" class="button-assertive" ng-click="stop(route)">
          <i class="icon ion-flag"></i>
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
